<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Pet Care – Safe Trade Hub</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
  <header class="site-header">
    <div class="container header-inner">
      <a href="index.html" class="logo">SafeTradeHub</a>
      <nav class="header-actions">
        <a class="icon-btn" href="cart.html" aria-label="Cart" title="Cart" style="position:relative">
          <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M6 6h15l-1.5 9h-12z"/><path d="M6 6L5 3H2"/><circle cx="9" cy="20" r="1.75"/><circle cx="18" cy="20" r="1.75"/></svg>
          <span class="cart-count" id="cartCount">0</span>
        </a>
      </nav>
    </div>
  </header>

  <!-- Category Header -->
  <section class="category-header">
    <div class="container">
      <div class="category-breadcrumb">
        <a href="index.html">Home</a>
        <span>›</span>
        <span>Pet Care</span>
      </div>
      <h1>Pet Care</h1>
      <div class="category-stats">
        <span id="productCount">12 products available</span>
        <span>•</span>
        <span>From $12 to $149</span>
      </div>
    </div>
  </section>

  <section class="section">
    <div class="container">
      <!-- Search and Filters -->
      <div class="search-filters-container">
        <!-- Search Bar -->
        <div class="search-container">
          <div class="search-bar">
            <i class="fas fa-search search-icon"></i>
            <input type="text" id="searchInput" placeholder="Search pet products..." class="search-input">
            <button id="clearSearch" class="clear-search" style="display: none;">
              <i class="fas fa-times"></i>
            </button>
          </div>
        </div>

        <!-- Quick Filters -->
        <div class="quick-filters">
          <button class="filter-chip active" data-filter="all">All</button>
          <button class="filter-chip" data-filter="food">Food</button>
          <button class="filter-chip" data-filter="toys">Toys</button>
          <button class="filter-chip" data-filter="accessories">Accessories</button>
          <button class="filter-chip" data-filter="health">Health</button>
        </div>

        <!-- Advanced Filters -->
        <div class="advanced-filters">
          <div class="filter-group">
            <label for="sortBy">Sort by:</label>
            <select id="sortBy" class="filter-select">
              <option value="featured">Featured</option>
              <option value="price-low">Price: Low to High</option>
              <option value="price-high">Price: High to Low</option>
              <option value="name">Name A-Z</option>
              <option value="rating">Rating</option>
            </select>
          </div>
          <div class="filter-group">
            <label for="priceRange">Price Range:</label>
            <select id="priceRange" class="filter-select">
              <option value="all">All Prices</option>
              <option value="under-25">Under $25</option>
              <option value="25-60">$25 - $60</option>
              <option value="60-100">$60 - $100</option>
              <option value="over-100">Over $100</option>
            </select>
          </div>
          <div class="filter-group">
            <label for="condition">Condition:</label>
            <select id="condition" class="filter-select">
              <option value="all">All Conditions</option>
              <option value="new">New</option>
              <option value="used">Used</option>
              <option value="refurbished">Refurbished</option>
            </select>
          </div>
          <div class="filter-group">
            <label for="brand">Brand:</label>
            <select id="brand" class="filter-select">
              <option value="all">All Brands</option>
              <option value="royal-canin">Royal Canin</option>
              <option value="whiskas">Whiskas</option>
              <option value="pedigree">Pedigree</option>
              <option value="generic">Generic</option>
            </select>
          </div>
          <button id="clearFilters" class="clear-filters-btn">
            <i class="fas fa-times"></i>
            Clear All
          </button>
        </div>
      </div>
      
      <div class="recs" id="grid"></div>
    </div>
  </section>

  <footer class="site-footer"><div class="container"><p>All Rights Reserved By Safe Trade Hub</p></div></footer>

  <div id="productModal" class="modal" aria-hidden="true" role="dialog">
    <div class="modal-backdrop"></div>
    <div class="modal-panel">
      <button class="icon-btn" id="closeModal" aria-label="Close" style="position:absolute;top:12px;right:12px">✕</button>
      <div id="modalContent"></div>
    </div>
  </div>

  <style>
    /* Search and Filters Styles */
    .search-filters-container {
      margin-bottom: 32px;
    }

    .search-container {
      margin-bottom: 20px;
    }

    .search-bar {
      position: relative;
      max-width: 500px;
    }

    .search-input {
      width: 100%;
      padding: 12px 16px 12px 45px;
      border: 2px solid #e5e7eb;
      border-radius: 12px;
      font-size: 16px;
      transition: all 0.3s ease;
    }

    .search-input:focus {
      outline: none;
      border-color: #3b82f6;
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }

    .search-icon {
      position: absolute;
      left: 16px;
      top: 50%;
      transform: translateY(-50%);
      color: #9ca3af;
    }

    .clear-search {
      position: absolute;
      right: 12px;
      top: 50%;
      transform: translateY(-50%);
      background: none;
      border: none;
      color: #9ca3af;
      cursor: pointer;
      padding: 4px;
    }

    .clear-search:hover {
      color: #6b7280;
    }

    .quick-filters {
      display: flex;
      gap: 8px;
      margin-bottom: 20px;
      flex-wrap: wrap;
    }

    .filter-chip {
      padding: 8px 16px;
      border: 2px solid #e5e7eb;
      background: white;
      border-radius: 20px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-weight: 500;
    }

    .filter-chip:hover {
      border-color: #3b82f6;
      color: #3b82f6;
    }

    .filter-chip.active {
      background: #3b82f6;
      border-color: #3b82f6;
      color: white;
    }

    .advanced-filters {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 16px;
      align-items: end;
      margin-bottom: 20px;
    }

    .filter-group {
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .filter-group label {
      font-weight: 600;
      color: #374151;
      font-size: 14px;
    }

    .filter-select {
      padding: 10px 12px;
      border: 2px solid #e5e7eb;
      border-radius: 8px;
      background: white;
      font-size: 14px;
      transition: all 0.3s ease;
    }

    .filter-select:focus {
      outline: none;
      border-color: #3b82f6;
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }

    .clear-filters-btn {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 10px 16px;
      background: #f3f4f6;
      border: 2px solid #e5e7eb;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-weight: 500;
    }

    .clear-filters-btn:hover {
      background: #e5e7eb;
      border-color: #d1d5db;
    }

    /* Card Styles */
    .card {
      background: white;
      border-radius: 20px;
      box-shadow: 0 4px 12px rgba(16, 24, 40, 0.08), 0 1px 3px rgba(16, 24, 40, 0.10);
      overflow: hidden;
      transition: all 0.3s ease;
      border: 1px solid transparent;
    }

    .card:hover {
      transform: translateY(-4px);
      box-shadow: 0 20px 40px rgba(16, 24, 40, 0.12), 0 4px 12px rgba(16, 24, 40, 0.08);
      border-color: #d1d9ff;
    }

    .card-img {
      position: relative;
      height: 200px;
      overflow: hidden;
    }

    .card-img img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.3s ease;
    }

    .card:hover .card-img img {
      transform: scale(1.05);
    }

    .card-badge {
      position: absolute;
      top: 12px;
      right: 12px;
      background: #ff6b6b;
      color: white;
      padding: 4px 8px;
      border-radius: 12px;
      font-size: 0.75rem;
      font-weight: 600;
      text-transform: uppercase;
    }

    .card-content {
      padding: 20px;
    }

    .card-title {
      margin: 0 0 8px 0;
      font-size: 1.1rem;
      font-weight: 600;
      color: #1f2937;
      transition: color 0.3s ease;
    }

    .card:hover .card-title {
      color: #3b82f6;
    }

    .card-description {
      margin: 0 0 12px 0;
      font-size: 0.875rem;
      color: #6b7280;
      line-height: 1.4;
    }

    .card-price {
      font-size: 1.25rem;
      font-weight: 700;
      color: #059669;
      margin-bottom: 16px;
      transition: color 0.3s ease;
    }

    .card:hover .card-price {
      color: #047857;
    }

    .card-actions {
      display: flex;
      gap: 8px;
    }

    .card-btn {
      flex: 1;
      padding: 10px 16px;
      border: none;
      border-radius: 8px;
      font-weight: 600;
      font-size: 0.875rem;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .card-btn-primary {
      background: #3b82f6;
      color: white;
    }

    .card-btn-primary:hover {
      background: #2563eb;
      transform: translateY(-1px);
    }

    .card-btn-secondary {
      background: white;
      color: #374151;
      border: 1px solid #e5e7eb;
    }

    .card-btn-secondary:hover {
      background: #f8fafc;
      border-color: #d1d5db;
    }

    /* Modal Styles */
    .modal{ position:fixed; inset:0; display:none; align-items:center; justify-content:center; z-index:1000; }
    .modal.show{ display:flex; }
    .modal-backdrop{ position:absolute; inset:0; background:rgba(2,6,23,.45); }
    .modal-panel{ position:relative; background:#fff; border:1px solid var(--border); border-radius:16px; box-shadow:var(--shadow); width:min(920px, 92%); max-height:90vh; overflow:auto; padding:16px; }
    .detail{ display:grid; grid-template-columns: 320px 1fr; gap:16px; }
    @media (max-width: 820px){ .detail{ grid-template-columns:1fr; } }
    .detail-img{ width:100%; height:280px; border-radius:14px; object-fit:cover; border:1px solid #e6ebff; background:#f3f6ff; }
    .price-lg{ font-weight:800; font-size:1.2rem; margin:6px 0; }
    .reviews{ display:grid; gap:10px; margin-top:10px; }
    .review{ border:1px solid var(--border); border-radius:12px; padding:10px; background:#fff; }
    .review .meta{ color:var(--muted); font-size:.9rem; }

    /* Escrow Steps */
    .escrow-steps {
      display: flex;
      gap: 8px;
      margin: 16px 0;
      overflow-x: auto;
    }

    .escrow-step {
      display: flex;
      flex-direction: column;
      align-items: center;
      min-width: 80px;
      padding: 8px;
      border-radius: 8px;
      background: #f3f4f6;
      transition: all 0.3s ease;
    }

    .escrow-step.active {
      background: #dbeafe;
      color: #1e40af;
    }

    .escrow-step .num {
      width: 24px;
      height: 24px;
      border-radius: 50%;
      background: #6b7280;
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      font-weight: 600;
      margin-bottom: 4px;
    }

    .escrow-step.active .num {
      background: #3b82f6;
    }

    .escrow-step .label {
      font-size: 10px;
      text-align: center;
      line-height: 1.2;
    }

    .escrow-note {
      font-size: 14px;
      color: #6b7280;
      margin-top: 12px;
      padding: 12px;
      background: #f9fafb;
      border-radius: 8px;
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .advanced-filters {
        grid-template-columns: 1fr;
      }
      
      .quick-filters {
        justify-content: center;
      }
      
      .card-actions {
        flex-direction: column;
      }
    }
  </style>

  <script>
  const CART_KEY='sthub_cart';
  function getCart(){ try { return JSON.parse(localStorage.getItem(CART_KEY))||[] } catch { return [] } }
  function saveCart(c){ localStorage.setItem(CART_KEY, JSON.stringify(c)); }
  function cartCount(){ return getCart().reduce((a,i)=> a + (i.qty||1), 0); }
  function updateCartCount(){ const b=document.getElementById('cartCount'); if(b) b.textContent=cartCount(); }
  function addToCart(product, qty=1){ const cart=getCart(); const i=cart.findIndex(x=>x.id===product.id); if(i>-1) cart[i].qty += qty; else cart.push({...product, qty}); saveCart(cart); updateCartCount(); alert('Added to cart: '+product.title); }
  document.addEventListener('click', (e)=>{ const btn=e.target.closest('[data-add-to-cart]'); if(!btn) return; const product={ id:btn.dataset.id, title:btn.dataset.name, price:parseFloat(btn.dataset.price||'0'), img:btn.dataset.img, desc:btn.dataset.desc }; addToCart(product,1); });

  // Enhanced pet products data
  const allProducts = [
    {id:'pet-food-1', name:'Premium Dog Food', price:29.99, img:'images/pet.jpg', desc:'High-quality nutrition for adult dogs.', category:'food', brand:'royal-canin', condition:'new', rating:4.8},
    {id:'pet-food-2', name:'Cat Treats Pack', price:12.99, img:'images/cat.jpeg', desc:'Delicious treats for your feline friend.', category:'food', brand:'whiskas', condition:'new', rating:4.5},
    {id:'pet-toy-1', name:'Interactive Cat Toy', price:18.99, img:'images/pet.jpg', desc:'Engaging toy to keep cats active.', category:'toys', brand:'generic', condition:'new', rating:4.6},
    {id:'pet-toy-2', name:'Dog Chew Bone', price:15.99, img:'images/cat.jpeg', desc:'Durable chew toy for dental health.', category:'toys', brand:'pedigree', condition:'new', rating:4.4},
    {id:'pet-accessory-1', name:'Pet Carrier Bag', price:45.99, img:'images/pet.jpg', desc:'Comfortable carrier for small pets.', category:'accessories', brand:'generic', condition:'new', rating:4.7},
    {id:'pet-accessory-2', name:'Pet Grooming Kit', price:32.99, img:'images/cat.jpeg', desc:'Complete grooming tools for pets.', category:'accessories', brand:'generic', condition:'new', rating:4.5},
    {id:'pet-health-1', name:'Pet Vitamins', price:24.99, img:'images/pet.jpg', desc:'Essential vitamins for pet health.', category:'health', brand:'royal-canin', condition:'new', rating:4.6},
    {id:'pet-health-2', name:'Flea Treatment', price:19.99, img:'images/cat.jpeg', desc:'Effective flea prevention treatment.', category:'health', brand:'pedigree', condition:'new', rating:4.3},
    {id:'pet-food-3', name:'Puppy Formula', price:35.99, img:'images/pet.jpg', desc:'Special nutrition for growing puppies.', category:'food', brand:'royal-canin', condition:'new', rating:4.9},
    {id:'pet-toy-3', name:'Feather Wand Toy', price:8.99, img:'images/cat.jpeg', desc:'Interactive wand toy for cats.', category:'toys', brand:'whiskas', condition:'new', rating:4.2},
    {id:'pet-accessory-3', name:'Pet Bed', price:39.99, img:'images/pet.jpg', desc:'Comfortable bed for pets.', category:'accessories', brand:'generic', condition:'new', rating:4.8},
    {id:'pet-health-3', name:'Dental Care Kit', price:28.99, img:'images/cat.jpeg', desc:'Complete dental care for pets.', category:'health', brand:'pedigree', condition:'new', rating:4.4}
  ];

  let filteredProducts = [...allProducts];
  let currentFilters = {
    search: '',
    category: 'all',
    priceRange: 'all',
    condition: 'all',
    brand: 'all',
    sortBy: 'featured'
  };

  function render(list){
    const grid = document.getElementById('grid');
    grid.innerHTML = list.map(p=>`
      <article class="card" data-product-id="${p.id}">
        <div class="card-img">
          <img src="${p.img}" alt="${p.name}" loading="lazy">
          ${p.price > 30 ? '<div class="card-badge">Premium</div>' : ''}
        </div>
        <div class="card-content">
          <h3 class="card-title">${p.name}</h3>
          <p class="card-description">${p.desc}</p>
          <div class="card-price">$${p.price.toFixed(2)}</div>
          <div class="card-actions">
            <button class="card-btn card-btn-primary" data-add-to-cart data-id="${p.id}" data-name="${p.name}" data-price="${p.price.toFixed(2)}" data-img="${p.img}" data-desc="${p.desc}">
              Add to Cart
            </button>
            <button class="card-btn card-btn-secondary" onclick="viewProduct('${p.id}')">
              View Details
            </button>
          </div>
        </div>
      </article>`).join('');
  }

  function applyFilters() {
    let filtered = [...allProducts];
    
    // Search filter
    if (currentFilters.search) {
      const searchTerm = currentFilters.search.toLowerCase();
      filtered = filtered.filter(product => 
        product.name.toLowerCase().includes(searchTerm) ||
        product.desc.toLowerCase().includes(searchTerm) ||
        product.category.toLowerCase().includes(searchTerm) ||
        product.brand.toLowerCase().includes(searchTerm)
      );
    }
    
    // Category filter
    if (currentFilters.category !== 'all') {
      filtered = filtered.filter(product => product.category === currentFilters.category);
    }
    
    // Price range filter
    if (currentFilters.priceRange !== 'all') {
      filtered = filtered.filter(product => {
        const price = product.price;
        switch (currentFilters.priceRange) {
          case 'under-25': return price < 25;
          case '25-60': return price >= 25 && price <= 60;
          case '60-100': return price >= 60 && price <= 100;
          case 'over-100': return price > 100;
          default: return true;
        }
      });
    }
    
    // Condition filter
    if (currentFilters.condition !== 'all') {
      filtered = filtered.filter(product => product.condition === currentFilters.condition);
    }
    
    // Brand filter
    if (currentFilters.brand !== 'all') {
      filtered = filtered.filter(product => product.brand === currentFilters.brand);
    }
    
    // Sort
    switch (currentFilters.sortBy) {
      case 'price-low':
        filtered.sort((a, b) => a.price - b.price);
        break;
      case 'price-high':
        filtered.sort((a, b) => b.price - a.price);
        break;
      case 'name':
        filtered.sort((a, b) => a.name.localeCompare(b.name));
        break;
      case 'rating':
        filtered.sort((a, b) => b.rating - a.rating);
        break;
      default:
        // Keep original order for featured
        break;
    }
    
    filteredProducts = filtered;
    render(filteredProducts);
    updateProductStats();
  }

  function updateProductStats() {
    const count = filteredProducts.length;
    const minPrice = Math.min(...filteredProducts.map(p => p.price));
    const maxPrice = Math.max(...filteredProducts.map(p => p.price));
    
    document.getElementById('productCount').textContent = `${count} product${count !== 1 ? 's' : ''} available`;
    document.querySelector('.category-stats span:nth-child(3)').textContent = `From $${minPrice.toFixed(0)} to $${maxPrice.toFixed(0)}`;
  }

  function clearAllFilters() {
    currentFilters = {
      search: '',
      category: 'all',
      priceRange: 'all',
      condition: 'all',
      brand: 'all',
      sortBy: 'featured'
    };
    
    document.getElementById('searchInput').value = '';
    document.getElementById('clearSearch').style.display = 'none';
    document.querySelectorAll('.filter-chip').forEach(chip => {
      chip.classList.remove('active');
      if (chip.dataset.filter === 'all') chip.classList.add('active');
    });
    document.getElementById('sortBy').value = 'featured';
    document.getElementById('priceRange').value = 'all';
    document.getElementById('condition').value = 'all';
    document.getElementById('brand').value = 'all';
    
    applyFilters();
  }

  // Event listeners
  document.getElementById('searchInput').addEventListener('input', (e) => {
    currentFilters.search = e.target.value;
    document.getElementById('clearSearch').style.display = e.target.value ? 'block' : 'none';
    applyFilters();
  });

  document.getElementById('clearSearch').addEventListener('click', () => {
    document.getElementById('searchInput').value = '';
    currentFilters.search = '';
    document.getElementById('clearSearch').style.display = 'none';
    applyFilters();
  });

  document.querySelectorAll('.filter-chip').forEach(chip => {
    chip.addEventListener('click', () => {
      document.querySelectorAll('.filter-chip').forEach(c => c.classList.remove('active'));
      chip.classList.add('active');
      currentFilters.category = chip.dataset.filter;
      applyFilters();
    });
  });

  document.getElementById('sortBy').addEventListener('change', (e) => {
    currentFilters.sortBy = e.target.value;
    applyFilters();
  });

  document.getElementById('priceRange').addEventListener('change', (e) => {
    currentFilters.priceRange = e.target.value;
    applyFilters();
  });

  document.getElementById('condition').addEventListener('change', (e) => {
    currentFilters.condition = e.target.value;
    applyFilters();
  });

  document.getElementById('brand').addEventListener('change', (e) => {
    currentFilters.brand = e.target.value;
    applyFilters();
  });

  document.getElementById('clearFilters').addEventListener('click', clearAllFilters);

  // View product details
  function viewProduct(productId) {
    const product = allProducts.find(p => p.id === productId);
    if (!product) return;
    
    const sampleReviews = [
      {by:'Sarah', rating:5, text:'My pet absolutely loves this product!'},
      {by:'Mike', rating:4, text:'Great quality and fast delivery.'},
      {by:'Emma', rating:5, text:'Excellent value for money.'},
      {by:'John', rating:4, text:'Good product, would recommend.'}
    ];
    
    const escrowHtml = `
      <h3>How Escrow Works</h3>
      <div class="escrow-steps">
        <div class="escrow-step active"><span class="num">1</span><span class="label">Pay & Hold</span></div>
        <div class="escrow-step"><span class="num">2</span><span class="label">Seller Ships to Escrow Location</span></div>
        <div class="escrow-step"><span class="num">3</span><span class="label">Verification at Escrow</span></div>
        <div class="escrow-step"><span class="num">4</span><span class="label">Buyer Confirms Delivery</span></div>
        <div class="escrow-step"><span class="num">5</span><span class="label">Funds Released to Seller</span></div>
      </div>
      <p class="escrow-note">Payments are held securely until delivery is confirmed. Disputes are reviewed by admins.</p>`;

    modalContent.innerHTML = `
      <div class="detail">
        <img class="detail-img" src="${product.img}" alt="${product.name}">
        <div>
          <h2 style="margin:0">${product.name}</h2>
          <div class="price-lg">$${product.price.toFixed(2)}</div>
          <p><strong>Category:</strong> ${product.category.charAt(0).toUpperCase() + product.category.slice(1)}</p>
          <p><strong>Brand:</strong> ${product.brand.charAt(0).toUpperCase() + product.brand.slice(1)}</p>
          <p><strong>Condition:</strong> ${product.condition.charAt(0).toUpperCase() + product.condition.slice(1)}</p>
          <p><strong>Rating:</strong> ${product.rating}/5 ⭐</p>
          <p>${product.desc}</p>
          <button class="btn" data-add-to-cart data-id="${product.id}" data-name="${product.name}" data-price="${product.price.toFixed(2)}" data-img="${product.img}" data-desc="${product.desc}" style="margin-top:8px">Add to Cart</button>
          <hr style="margin:14px 0">
          ${escrowHtml}
          <h3 style="margin-top:14px">Reviews</h3>
          <div class="reviews">${sampleReviews.map(r=>`<div class="review"><div class="meta">${r.by} • ${stars(r.rating)} (${r.rating}/5)</div><div>${r.text}</div></div>`).join('')}</div>
        </div>
      </div>`;
    modal.classList.add('show');
  }

  function stars(n){ 
    return '★★★★★☆☆☆☆☆'.slice(5 - Math.round(Math.max(0, Math.min(5,n)))) 
      .slice(0,5).replace(/./g,(c,i)=> i < Math.round(n) ? '★' : '☆'); 
  }

  // Initialize
  render(filteredProducts);
  updateCartCount();
  updateProductStats();

  const modal = document.getElementById('productModal');
  const modalContent = document.getElementById('modalContent');
  const closeModalBtn = document.getElementById('closeModal');
  closeModalBtn.addEventListener('click', ()=> modal.classList.remove('show'));
  modal.addEventListener('click', (e)=>{ if(e.target.classList.contains('modal-backdrop')) modal.classList.remove('show'); });

  document.addEventListener('click', (e)=>{
    const card = e.target.closest('.card');
    if (!card) return;
    if (e.target.closest('[data-add-to-cart]')) return;
    const id = card.getAttribute('data-product-id');
    if (id) viewProduct(id);
  });
  </script>
</body>
</html>


