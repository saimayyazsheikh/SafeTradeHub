<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Fashion – Safe Trade Hub</title>
  <link rel="stylesheet" href="/static/css/style.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

  <!-- Firebase Configuration -->
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyB0RraIZr7Z3rjKIYw6dE2g_9Waqll5JvI",
      authDomain: "safetradehub-def1d.firebaseapp.com",
      databaseURL: "https://safetradehub-def1d-default-rtdb.firebaseio.com",
      projectId: "safetradehub-def1d",
      storageBucket: "safetradehub-def1d.firebasestorage.app",
      messagingSenderId: "633146502278",
      appId: "1:633146502278:web:6c82d4a0768daebdd7b507",
      measurementId: "G-1857Q7JPKZ"
    };
    if (!firebase.apps.length) {
      firebase.initializeApp(firebaseConfig);
    }
  </script>

  <!-- Load authentication system -->
  <script src="/static/js/auth-manager.js"></script>
  <script src="/static/js/header-manager.js"></script>
</head>

<body>
  <header class="site-header">
    <div class="container header-inner">
      <a href="index.html" class="logo" aria-label="Safe Trade Hub Home">SafeTradeHub</a>
      <nav class="header-actions">
        <a class="icon-btn" href="cart.html" aria-label="Cart" title="Cart" style="position:relative">
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <path d="M6 6h15l-1.5 9h-12z" />
            <path d="M6 6L5 3H2" />
            <circle cx="9" cy="20" r="1.75" />
            <circle cx="18" cy="20" r="1.75" />
          </svg>
          <span class="cart-count" id="cartCount">0</span>
        </a>
      </nav>
    </div>
  </header>

  <!-- Category Header -->
  <section class="category-header">
    <div class="container">
      <div class="category-breadcrumb">
        <a href="index.html">Home</a>
        <span>›</span>
        <span>Fashion</span>
      </div>
      <h1>Fashion & Clothing</h1>
      <div class="category-stats">
        <span id="productCount">12 products available</span>
        <span>•</span>
        <span>From $29 to $299</span>
      </div>
    </div>
  </section>

  <section class="section">
    <div class="container">
      <!-- Search and Filters -->
      <div class="search-filters-container">
        <!-- Search Bar -->
        <div class="search-container">
          <div class="search-bar">
            <i class="fas fa-search search-icon"></i>
            <input type="text" id="searchInput" placeholder="Search fashion items..." class="search-input">
            <button id="clearSearch" class="clear-search" style="display: none;">
              <i class="fas fa-times"></i>
            </button>
          </div>
        </div>

        <!-- Quick Filters -->
        <div class="quick-filters">
          <button class="filter-chip active" data-filter="all">All</button>
          <button class="filter-chip" data-filter="dresses">Dresses</button>
          <button class="filter-chip" data-filter="shirts">Shirts</button>
          <button class="filter-chip" data-filter="accessories">Accessories</button>
          <button class="filter-chip" data-filter="shoes">Shoes</button>
        </div>

        <!-- Advanced Filters -->
        <div class="advanced-filters">
          <div class="filter-group">
            <label for="sortBy">Sort by:</label>
            <select id="sortBy" class="filter-select">
              <option value="featured">Featured</option>
              <option value="price-low">Price: Low to High</option>
              <option value="price-high">Price: High to Low</option>
              <option value="name">Name A-Z</option>
              <option value="rating">Rating</option>
            </select>
          </div>
          <div class="filter-group">
            <label for="priceRange">Price Range:</label>
            <select id="priceRange" class="filter-select">
              <option value="all">All Prices</option>
              <option value="under-1000">Under RS 1,000</option>
              <option value="1000-5000">RS 1,000 - 5,000</option>
              <option value="5000-20000">RS 5,000 - 20,000</option>
              <option value="20000-50000">RS 20,000 - 50,000</option>
              <option value="50000-100000">RS 50,000 - 100,000</option>
              <option value="over-100000">Over RS 100,000</option>
            </select>
          </div>
          <div class="filter-group">
            <label for="condition">Condition:</label>
            <select id="condition" class="filter-select">
              <option value="all">All Conditions</option>
              <option value="new">New</option>
              <option value="used">Used</option>
              <option value="refurbished">Refurbished</option>
            </select>
          </div>
          <div class="filter-group">
            <label for="brand">Brand:</label>
            <select id="brand" class="filter-select">
              <option value="all">All Brands</option>
              <option value="nike">Nike</option>
              <option value="adidas">Adidas</option>
              <option value="zara">Zara</option>
              <option value="h&m">H&M</option>
            </select>
          </div>
          <button id="clearFilters" class="clear-filters-btn">
            <i class="fas fa-times"></i>
            Clear All
          </button>
        </div>
      </div>

      <div class="recs" id="grid"></div>
    </div>
  </section>

  <footer class="site-footer">
    <div class="container">
      <p>All Rights Reserved By Safe Trade Hub</p>
    </div>
  </footer>

  <!-- Product detail modal -->
  <div id="productModal" class="modal" aria-hidden="true" role="dialog">
    <div class="modal-backdrop"></div>
    <div class="modal-panel">
      <button class="icon-btn" id="closeModal" aria-label="Close"
        style="position:absolute;top:12px;right:12px">✕</button>
      <div id="modalContent"></div>
    </div>
  </div>

  <script>
    const CURRENT_CATEGORY = 'fashion';
  </script>
  <script src="/static/js/category-manager.js"></script>
  <script src="/static/js/seller-chat.js"></script>
  </script>

  <style>
    /* Search and Filters Styles */
    .search-filters-container {
      margin-bottom: 32px;
    }

    .search-container {
      margin-bottom: 20px;
    }

    .search-bar {
      position: relative;
      max-width: 500px;
    }

    .search-input {
      width: 100%;
      padding: 12px 16px 12px 45px;
      border: 2px solid #e5e7eb;
      border-radius: 12px;
      font-size: 16px;
      transition: all 0.3s ease;
    }

    .search-input:focus {
      outline: none;
      border-color: #3b82f6;
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }

    .search-icon {
      position: absolute;
      left: 16px;
      top: 50%;
      transform: translateY(-50%);
      color: #9ca3af;
    }

    .clear-search {
      position: absolute;
      right: 12px;
      top: 50%;
      transform: translateY(-50%);
      background: none;
      border: none;
      color: #9ca3af;
      cursor: pointer;
      padding: 4px;
    }

    .clear-search:hover {
      color: #6b7280;
    }

    .quick-filters {
      display: flex;
      gap: 8px;
      margin-bottom: 20px;
      flex-wrap: wrap;
    }

    .filter-chip {
      padding: 8px 16px;
      border: 2px solid #e5e7eb;
      background: white;
      border-radius: 20px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-weight: 500;
    }

    .filter-chip:hover {
      border-color: #3b82f6;
      color: #3b82f6;
    }

    .filter-chip.active {
      background: #3b82f6;
      border-color: #3b82f6;
      color: white;
    }

    .advanced-filters {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 16px;
      align-items: end;
      margin-bottom: 20px;
    }

    .filter-group {
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .filter-group label {
      font-weight: 600;
      color: #374151;
      font-size: 14px;
    }

    .filter-select {
      padding: 10px 12px;
      border: 2px solid #e5e7eb;
      border-radius: 8px;
      background: white;
      font-size: 14px;
      transition: all 0.3s ease;
    }

    .filter-select:focus {
      outline: none;
      border-color: #3b82f6;
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }

    .clear-filters-btn {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 10px 16px;
      background: #f3f4f6;
      border: 2px solid #e5e7eb;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-weight: 500;
    }

    .clear-filters-btn:hover {
      background: #e5e7eb;
      border-color: #d1d5db;
    }

    /* Card Styles */
    .card {
      background: white;
      border-radius: 20px;
      box-shadow: 0 4px 12px rgba(16, 24, 40, 0.08), 0 1px 3px rgba(16, 24, 40, 0.10);
      overflow: hidden;
      transition: all 0.3s ease;
      border: 1px solid transparent;
    }

    .card:hover {
      transform: translateY(-4px);
      box-shadow: 0 20px 40px rgba(16, 24, 40, 0.12), 0 4px 12px rgba(16, 24, 40, 0.08);
      border-color: #d1d9ff;
    }

    .card-img {
      position: relative;
      height: 200px;
      overflow: hidden;
    }

    .card-img img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.3s ease;
    }

    .card:hover .card-img img {
      transform: scale(1.05);
    }

    .card-badge {
      position: absolute;
      top: 12px;
      right: 12px;
      background: #ff6b6b;
      color: white;
      padding: 4px 8px;
      border-radius: 12px;
      font-size: 0.75rem;
      font-weight: 600;
      text-transform: uppercase;
    }

    .card-content {
      padding: 20px;
    }

    .card-title {
      margin: 0 0 8px 0;
      font-size: 1.1rem;
      font-weight: 600;
      color: #1f2937;
      transition: color 0.3s ease;
    }

    .card:hover .card-title {
      color: #3b82f6;
    }

    .card-description {
      margin: 0 0 12px 0;
      font-size: 0.875rem;
      color: #6b7280;
      line-height: 1.4;
    }

    .card-price {
      font-size: 1.25rem;
      font-weight: 700;
      color: #059669;
      margin-bottom: 16px;
      transition: color 0.3s ease;
    }

    .card:hover .card-price {
      color: #047857;
    }

    .card-actions {
      display: flex;
      gap: 8px;
    }

    .card-btn {
      flex: 1;
      padding: 10px 16px;
      border: none;
      border-radius: 8px;
      font-weight: 600;
      font-size: 0.875rem;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .card-btn-primary {
      background: #3b82f6;
      color: white;
    }

    .card-btn-primary:hover {
      background: #2563eb;
      transform: translateY(-1px);
    }

    .card-btn-secondary {
      background: white;
      color: #374151;
      border: 1px solid #e5e7eb;
    }

    .card-btn-secondary:hover {
      background: #f8fafc;
      border-color: #d1d5db;
    }

    /* Modal Styles */
    .modal {
      position: fixed;
      inset: 0;
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 1000;
    }

    .modal.show {
      display: flex;
    }

    .modal-backdrop {
      position: absolute;
      inset: 0;
      background: rgba(2, 6, 23, .45);
    }

    .modal-panel {
      position: relative;
      background: #fff;
      border: 1px solid var(--border);
      border-radius: 16px;
      box-shadow: var(--shadow);
      width: min(920px, 92%);
      max-height: 90vh;
      overflow: auto;
      padding: 16px;
    }

    .product-detail-grid {
      display: grid;
      grid-template-columns: 320px 1fr;
      gap: 16px;
    }

    @media (max-width: 820px) {
      .product-detail-grid {
        grid-template-columns: 1fr;
      }
    }

    .product-image-large {
      width: 100%;
      height: 280px;
      border-radius: 14px;
      object-fit: cover;
      border: 1px solid #e6ebff;
      background: #f3f6ff;
    }

    .product-price-large {
      font-weight: 800;
      font-size: 1.2rem;
      margin: 6px 0;
    }

    .product-actions {
      display: flex;
      gap: 12px;
      margin: 16px 0;
    }

    .product-btn {
      padding: 12px 24px;
      border: none;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .product-btn-primary {
      background: #3b82f6;
      color: white;
    }

    .product-btn-primary:hover {
      background: #2563eb;
    }

    .product-btn-secondary {
      background: #f3f4f6;
      color: #374151;
      border: 1px solid #e5e7eb;
    }

    .product-btn-secondary:hover {
      background: #e5e7eb;
    }

    .escrow-section {
      margin: 20px 0;
      padding: 16px;
      background: #f8fafc;
      border-radius: 8px;
    }

    .escrow-steps {
      display: flex;
      gap: 8px;
      margin: 16px 0;
      overflow-x: auto;
    }

    .escrow-step {
      display: flex;
      flex-direction: column;
      align-items: center;
      min-width: 80px;
      padding: 8px;
      border-radius: 8px;
      background: #f3f4f6;
      transition: all 0.3s ease;
    }

    .escrow-step.active {
      background: #dbeafe;
      color: #1e40af;
    }

    .escrow-step .num {
      width: 24px;
      height: 24px;
      border-radius: 50%;
      background: #6b7280;
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      font-weight: 600;
      margin-bottom: 4px;
    }

    .escrow-step.active .num {
      background: #3b82f6;
    }

    .escrow-step .label {
      font-size: 10px;
      text-align: center;
      line-height: 1.2;
    }

    .escrow-note {
      font-size: 14px;
      color: #6b7280;
      margin-top: 12px;
      padding: 12px;
      background: #f9fafb;
      border-radius: 8px;
    }

    .product-reviews {
      margin-top: 20px;
    }

    .reviews-grid {
      display: grid;
      gap: 12px;
      margin-top: 12px;
    }

    .review-item {
      padding: 12px;
      border: 1px solid #e5e7eb;
      border-radius: 8px;
      background: white;
    }

    .review-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
    }

    .review-author {
      font-weight: 600;
      color: #374151;
    }

    .review-rating {
      color: #fbbf24;
    }

    .review-text {
      color: #6b7280;
      font-size: 14px;
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .advanced-filters {
        grid-template-columns: 1fr;
      }

      .quick-filters {
        justify-content: center;
      }

      .card-actions {
        flex-direction: column;
      }
    }
  </style>
</body>

</html>